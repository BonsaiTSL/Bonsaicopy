<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script>
        // Store the requested path for React Router to handle after redirect
        var path = window.location.pathname;
        sessionStorage.setItem('redirectPath', path + window.location.search + window.location.hash);
        
        // Dynamically determine base path
        var segments = path.split('/').filter(function(segment) { return segment !== ''; });
        
        // For GitHub Pages subdirectory: /repo-name/some-route → redirect to /repo-name/
        // For custom domain: /some-route → redirect to /
        var basePath = segments.length > 0 && !window.location.hostname.includes('localhost')
            ? '/' + segments[0] + '/'
            : '/';
        
        // For custom domains (no subdirectory), redirect to root
        if (!window.location.hostname.endsWith('.github.io')) {
            basePath = '/';
        } else if (window.location.hostname.endsWith('.github.io') && segments.length > 0) {
            // It's GitHub Pages subdirectory deployment
            basePath = '/' + segments[0] + '/';
        }
        
        window.location.replace(basePath);
    </script>
    <title>Redirecting...</title>
</head>
<body>
</body>
</html>

